{
  "apiVersion":"admission.k8s.io/v1",
  "kind":"AdmissionReview",
  "request":{
    "uid":"705ab4f5-6393-11e8-b7cc-42010a800002",
    "kind":{
      "group":"autoscaling",
      "version":"v1",
      "kind":"Scale"
    },
    "resource":{
      "group":"apps",
      "version":"v1",
      "resource":"deployments"
    },
    "subResource":"scale",
    "requestKind":{
      "group":"autoscaling",
      "version":"v1",
      "kind":"Scale"
    },
    "requestResource":{
      "group":"apps",
      "version":"v1",
      "resource":"deployments"
    },
    "requestSubResource":"scale",
    "name":"my-deployment",
    "namespace":"my-namespace",
    "operation":"UPDATE",
    "userInfo":{
      "username":"admin",
      "uid":"014fbff9a07c",
      "groups":[
        "system:authenticated",
        "my-admin-group"
      ],
      "extra":{
        "some-key":[
          "some-value1",
          "some-value2"
        ]
      }
    },
    "object":{
      "kind":"Pod",
      "apiVersion":"v1",
      "metadata":{
        "name":"pod-with-conflict-1",
        "namespace":"default",
        "uid":"12ada778-7e51-4d73-9f18-b02da97382a1",
        "creationTimestamp":"2022-06-01T08:37:09Z",
        "labels":{
          "app":"pod-with-conflict-1"
        },
        "annotations":{
          "kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"pod-with-conflict-1\"},\"name\":\"pod-with-conflict-1\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"command\":[\"sh\",\"-c\",\"echo I am running as user $(id -u)\"],\"image\":\"busybox:latest\",\"name\":\"busybox\"}],\"restartPolicy\":\"OnFailure\",\"securityContext\":{\"runAsNonRoot\":true,\"runAsUser\":0}}}\n"
        },
        "managedFields":[
          {
            "manager":"kubectl-client-side-apply",
            "operation":"Update",
            "apiVersion":"v1",
            "time":"2022-06-01T08:37:09Z",
            "fieldsType":"FieldsV1",
            "fieldsV1":{
              "f:metadata":{
                "f:annotations":{
                  ".":{

                  },
                  "f:kubectl.kubernetes.io/last-applied-configuration":{

                  }
                },
                "f:labels":{
                  ".":{

                  },
                  "f:app":{

                  }
                }
              },
              "f:spec":{
                "f:containers":{
                  "k:{\"name\":\"busybox\"}":{
                    ".":{

                    },
                    "f:command":{

                    },
                    "f:image":{

                    },
                    "f:imagePullPolicy":{

                    },
                    "f:name":{

                    },
                    "f:resources":{

                    },
                    "f:terminationMessagePath":{

                    },
                    "f:terminationMessagePolicy":{

                    }
                  }
                },
                "f:dnsPolicy":{

                },
                "f:enableServiceLinks":{

                },
                "f:restartPolicy":{

                },
                "f:schedulerName":{

                },
                "f:securityContext":{
                  ".":{

                  },
                  "f:runAsNonRoot":{

                  },
                  "f:runAsUser":{

                  }
                },
                "f:terminationGracePeriodSeconds":{

                }
              }
            }
          }
        ]
      },
      "spec":{
        "volumes":[
          {
            "name":"kube-api-access-b922n",
            "projected":{
              "sources":[
                {
                  "serviceAccountToken":{
                    "expirationSeconds":3607,
                    "path":"token"
                  }
                },
                {
                  "configMap":{
                    "name":"kube-root-ca.crt",
                    "items":[
                      {
                        "key":"ca.crt",
                        "path":"ca.crt"
                      }
                    ]
                  }
                },
                {
                  "downwardAPI":{
                    "items":[
                      {
                        "path":"namespace",
                        "fieldRef":{
                          "apiVersion":"v1",
                          "fieldPath":"metadata.namespace"
                        }
                      }
                    ]
                  }
                }
              ],
              "defaultMode":420
            }
          }
        ],
        "containers":[
          {
            "name":"busybox",
            "image":"busybox:latest",
            "command":[
              "sh",
              "-c",
              "echo I am running as user $(id -u)"
            ],
            "resources":{

            },
            "volumeMounts":[
              {
                "name":"kube-api-access-b922n",
                "readOnly":true,
                "mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"
              }
            ],
            "terminationMessagePath":"/dev/termination-log",
            "terminationMessagePolicy":"File",
            "imagePullPolicy":"Always"
          }
        ],
        "restartPolicy":"OnFailure",
        "terminationGracePeriodSeconds":30,
        "dnsPolicy":"ClusterFirst",
        "serviceAccountName":"default",
        "serviceAccount":"default",
        "securityContext":{
          "runAsUser":0,
          "runAsNonRoot":true
        },
        "schedulerName":"default-scheduler",
        "tolerations":[
          {
            "key":"node.kubernetes.io/not-ready",
            "operator":"Exists",
            "effect":"NoExecute",
            "tolerationSeconds":300
          },
          {
            "key":"node.kubernetes.io/unreachable",
            "operator":"Exists",
            "effect":"NoExecute",
            "tolerationSeconds":300
          }
        ],
        "priority":0,
        "enableServiceLinks":true,
        "preemptionPolicy":"PreemptLowerPriority"
      },
      "status":{
        "phase":"Pending",
        "qosClass":"BestEffort"
      }
    },
    "options":{
      "apiVersion":"meta.k8s.io/v1",
      "kind":"UpdateOptions",
      "fieldManager":"1231"
    },
    "dryRun": false
  }
}
